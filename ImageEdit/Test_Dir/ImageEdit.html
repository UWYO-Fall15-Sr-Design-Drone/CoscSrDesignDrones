<!DOCTYPE html>
<html>
	<head>
		<!-- <link rel="stylesheet" type="text/css" href="theme.css"> -->
		<meta charset="UTF-8">
	<head>
	<div id="puzzle">
	<script type="text/javascript">
		
		var _canvas;
		var _stage;
		var _fileName = "dir_content.txt";
		//Using two test images. 
		var _image1;
		var _image2;




		function main(){

			
			//Read in dir_content.txt
			
			//Create var from the contet
			//Resize images
			
			readTextFile(_fileName);

			//file:///home/waffles/git-repos/CoscSrDesignDrones/ImageEdit/Test_Dir/dir_content.txt


			//This code all needs to be moved to a funtion, figure out how to parse a folder/config file
			_image1 = new Image();
			_image1.src = "images/image1.jpg"
			_image2 = new Image();
			_image2.src = "images/image2.jpg"

			//Add images to the borad
			_image1.addEventListener('load', ComputeImageStartingLocation,false);
			_image2.addEventListener('load', ComputeImageStartingLocation,false);

			loadCanvas();
			addImages();
		}




		/**
		*	Reads in our _fileName and saves the content into a var
		*/
		var fileDisplayArea = document.getElementById('fileDisplayArea');
		
		function readTextFile(file){
    			var rawFile = new XMLHttpRequest();
    			rawFile.open("GET", file, false);
    			rawFile.onreadystatechange = function (){
        			if(rawFile.readyState === 4){
            				if(rawFile.status === 200 || rawFile.status == 0){
                				var allText = rawFile.responseText;
                				fileDisplayArea.innerText = allText 
            				}
        			}
    			}
    			rawFile.send(null);
		}

		

		/**
		*	Might need to create a few helper funtions. Needs compute the X/Y of our image
		*	This info needs to be stored in info I can easly parse everywhere else
		*
		*	Idea: Create a master image size, parase that with a # of images up and down
		*/
		function ComputeImageStartingLocation(image){
			//TODO Add a funtion that uses % to figure out the images X and Ys. 
			
		}




		/**
		*	Handles the master settings for our board.  
		*/
		function loadCanvas(){
			//Setting up our canvas
			//Hard coded for testing 
			_canvas = document.getElementById('canvas');		
			_stage	= _canvas.getContext('2d');

			//TODO Do some quick math to add the image length + # of images to find canvas size
			//TODO How are we going to handle canvas shrinkage when images have 15% transpar? 
			_canvas.width = 500;
			_canvas.height = 500;
			_canvas.style.border = "1px solid black";
		}

		function addImages(){
		
			_stage.drawImage(_image1, 0, 0);
			_stage.drawImage(_image2, 200, 200);



		}






	</script>
	</div>
	<body onload="main();">
		<canvas id="canvas"></canvas>
	</body>
</html>
